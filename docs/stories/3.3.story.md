# 3.3 â€” Correction Workflow + Template/Dataset Update

## Status
Approved

## Story
**As a** system,
**I want** to persist reviewer corrections and update templates/datasets,
**so that** future extractions improve over time.

## Acceptance Criteria
1. Corrections persisted with audit details (who, when, before/after).
2. Template library and training datasets receive updates consistent with governance.
3. Backend API supports corrections with validation.

## Dev Notes (Architecture References)
- Human-in-the-Loop UI [Source: architecture/components.md#8-human-in-the-loop-ui]
- Data model audit trail [Source: architecture/data-model-core-tables.md#cheque]
- Coding standards & logging [Source: architecture/coding-standards.md]

### Testing
- Test locations: backend API tests and frontend integration tests
- Standards: follow `docs/architecture/coding-standards.md`; enforce ESLint/Prettier on UI
- Frameworks: `pytest` for backend; React Testing Library for UI
- Story-specific: verify audit details and queued updates to templates/datasets per `testing-strategy.md`

## Tasks / Subtasks
- Backend endpoint `POST /cheques/{id}/corrections` with validation.
- Persist corrections to `cheque.audit_json` and field records.
- Hook for template update queue; document governance for dataset updates.
- Frontend forms to submit corrections.
- Tests for backend and UI flows.

## Project Structure Notes
- Updates to templates/datasets should be queued and reviewed before applying.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|

## Dev Agent Record
### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results

